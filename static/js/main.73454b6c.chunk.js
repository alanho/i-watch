(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{145:function(e,t,n){e.exports=n(277)},154:function(e,t,n){},275:function(e,t,n){},277:function(e,t,n){"use strict";n.r(t);var a,r,c=n(0),o=n.n(c),i=n(31),l=n.n(i),u=n(61),s=n(62),P=n(39),A=n(63),M=n(40),Z=n(32),p=n(25),m=n(121),d=n(122),f=n(134),h=n(64),b=n(11),T="FETCH_BEGIN",v="FETCH_SUCCESS",g=n(18),w=n.n(g),U=n(123),E="iPad",j="Apple Watch",O=(a={},Object(b.a)(a,E,["MTXP2ZP/A","MTXR2ZP/A","MTXU2ZP/A","MTXW2ZP/A","MU222ZP/A","MU1M2ZP/A","MU172ZP/A","MU0U2ZP/A","MTXN2ZP/A","MTXQ2ZP/A","MTXT2ZP/A","MTXV2ZP/A","MU1V2ZP/A","MU1F2ZP/A","MU102ZP/A","MU0M2ZP/A","MTEM2ZP/A","MTFN2ZP/A","MTFQ2ZP/A","MTFT2ZP/A","MTJV2ZP/A","MTJJ2ZP/A","MTHP2ZP/A","MTJ62ZP/A","MTEL2ZP/A","MTFL2ZP/A","MTFP2ZP/A","MTFR2ZP/A","MTJP2ZP/A","MTJD2ZP/A","MTHV2ZP/A","MTHJ2ZP/A"]),Object(b.a)(a,j,["MU642ZP/A","MU6A2ZP/A","MTVR2ZP/A","MTVA2ZP/A","MU682ZP/A","MTVG2ZP/A","MTVW2ZP/A","MU6F2ZP/A","MU662ZP/A","MTVD2ZP/A","MTVU2ZP/A","MU6D2ZP/A","MU652ZP/A","MU6C2ZP/A","MTVT2ZP/A","MTVC2ZP/A","MU692ZP/A","MU6G2ZP/A","MTVX2ZP/A","MTVH2ZP/A","MU672ZP/A","MTVF2ZP/A","MTVV2ZP/A","MU6E2ZP/A","MTVJ2ZP/A","MTX02ZP/A","MTVN2ZP/A","MTX42ZP/A","MTX22ZP/A","MTVL2ZP/A","MTVK2ZP/A","MTX12ZP/A","MTVQ2ZP/A","MTX52ZP/A","MTVM2ZP/A","MTX32ZP/A","MU6H2ZP/A","MU6K2ZP/A","MTXK2ZP/A","MTX62ZP/A","MU6J2ZP/A","MU6L2ZP/A","MTXM2ZP/A","MTXG2ZP/A","MU7F2ZP/A","MTXF2ZP/A","MTXJ2ZP/A","MU7H2ZP/A","MU7G2ZP/A","MU7J2ZP/A","MTXL2ZP/A","MTXH2ZP/A","MU7L2ZP/A","MU732ZP/A","MU782ZP/A","MU702ZP/A","MU722ZP/A","MU712ZP/A","MU772ZP/A","MU6Y2ZP/A","MU762ZP/A","MU9E2ZP/A","MU752ZP/A","MU742ZP/A"]),a),y=(r={},Object(b.a)(r,j,/(?<model1>.*)\s+(?<connectivity>GPS(?:.*Cellular)?)(?:\W+)(?<size>[0-9]{2}mm)\s+(?<model2>.+)/),Object(b.a)(r,E,/(?<size>[0-9.]+-inch)\s+iPad Pro\s+(?<connectivity>Wi-Fi(?:\s+\+\s+Cellular)?)\s+(?<storage>[0-9]+(G|T)B) - (?<color>.*)/),r);var k=Object(p.c)({partNumbers:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case v:var n=Object(h.a)({},e),a=t.data.stores,r=t.product;return a.forEach(function(e){var t=w.a.transform(e.partsAvailability,function(t,n,a){var c,o=y[r].exec(n.storePickupProductTitle).groups,i=o.model1,l=o.connectivity,u=o.size,s=o.model2,P=o.storage,A=o.color;switch(r){case E:c=Object(b.a)({},"iPad Pro - ".concat(u," - ").concat(A),Object(b.a)({},l,Object(b.a)({},P,{partNumber:a,availabilities:Object(b.a)({},e.storeNumber,"available"===n.pickupDisplay)})));break;case j:c=Object(b.a)({},"".concat(i," ").concat(s),Object(b.a)({},u,Object(b.a)({},l,{partNumber:a,availabilities:Object(b.a)({},e.storeNumber,"available"===n.pickupDisplay)})))}t.push(Object(b.a)({},r,c))},[]);n=U.a.all([n].concat(Object(f.a)(t)))}),n;default:return e}},shops:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case v:var n=t.data.stores.reduce(function(e,t){var n=t.storeName;return e[t.storeNumber]={storeName:n},e},{});return Object(h.a)({},e,n);default:return e}},isLoading:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];switch((arguments.length>1?arguments[1]:void 0).type){case T:return!1;default:return e}}}),C=Object(d.createLogger)();n(154),n(156);var V=n(282),X=n(285),N=n(278),H=n(283),F=n(284),L=n(287),S=n(286),J=function(e){var t=e.model,n=e.shopKeys,a=e.sizes;return o.a.createElement(S.a.Body,null,w.a.map(a,function(e,r){return w.a.map(e,function(c,i){return o.a.createElement(S.a.Row,null,r===Object.keys(a)[0]&&i===Object.keys(e)[0]&&o.a.createElement(S.a.Cell,{rowSpan:w.a.reduce(a,function(e,t,n){return e+w.a.reduce(t,function(e,t,n){return e+1},0)},0)},t),i===Object.keys(e)[0]&&o.a.createElement(S.a.Cell,{rowSpan:Object.keys(e).length},r),o.a.createElement(S.a.Cell,null,i),o.a.createElement(S.a.Cell,null,c.partNumber),n.map(function(e){return o.a.createElement(S.a.Cell,{key:"40mm_celluar_".concat(t,"_").concat(e),textAlign:"center"},c.availabilities[e]&&o.a.createElement(N.a,{color:"green",name:"checkmark",size:"large"}))}))})}))},W=function(e){var t=e.products,n=e.shops;return o.a.createElement(L.a,null,w.a.map(t,function(e,t){return o.a.createElement(L.a.Row,null,o.a.createElement(L.a.Column,null,o.a.createElement("h1",null,t),o.a.createElement(S.a,{celled:!0,structured:!0},o.a.createElement(S.a.Header,null,o.a.createElement(S.a.Row,null,o.a.createElement(S.a.HeaderCell,{rowSpan:"2"},"Model"),o.a.createElement(S.a.HeaderCell,{rowSpan:"2"},"Size"),o.a.createElement(S.a.HeaderCell,{rowSpan:"2"},"Connectivity"),o.a.createElement(S.a.HeaderCell,{rowSpan:"2"},"Part Number"),o.a.createElement(S.a.HeaderCell,{colSpan:Object.keys(n).length},"Retail Shops")),o.a.createElement(S.a.Row,null,Object.keys(n).map(function(e){return o.a.createElement(S.a.HeaderCell,{key:e},n[e].storeName)}))),Object.keys(e).map(function(t){return o.a.createElement(J,{model:t,shopKeys:Object.keys(n),sizes:e[t]})}))))}))},R=Object(Z.b)(function(e,t){return{shops:e.shops,products:e.partNumbers}})(W),z=function(e){function t(){return Object(u.a)(this,t),Object(P.a)(this,Object(A.a)(t).apply(this,arguments))}return Object(M.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){this.props.onActivate()}},{key:"render",value:function(){return o.a.createElement(V.a,null,o.a.createElement(X.a,{as:"h2",icon:!0,inverted:!0,textAlign:"center"},o.a.createElement(N.a,{name:"apple"}),"Apple Watch Availability (HK)"),o.a.createElement(H.a,null),o.a.createElement(F.a,{content:"Loading",active:this.props.isLoading}),o.a.createElement(R,null))}}]),t}(c.Component),G=n(133),D=n.n(G),K=function(){return{type:T}},x=function(e,t){return{type:v,product:e,data:t}};var B,_=Object(Z.b)(function(e){return{isLoading:e.isLoading}},function(e){return{onActivate:function(){w.a.each(O,function(t,n){w.a.chunk(t,6).forEach(function(t){e(function(e,t){return function(n){n(K());var a=t.map(function(e,t){return"parts.".concat(t,"=").concat(encodeURIComponent(e))}).join("&");return D()("https://cors-anywhere.herokuapp.com/https://www.apple.com/hk/shop/retail/pickup-message?location=Central&".concat(a,"&pl=true")).then(function(e){return e.json()}).then(function(e){return e.body}).then(function(t){return n(x(e,t))})}}(n,t))})})}}})(z),Q=Object(p.d)(k,B,Object(p.a)(m.a,C)),I=function(e){function t(){return Object(u.a)(this,t),Object(P.a)(this,Object(A.a)(t).apply(this,arguments))}return Object(M.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return o.a.createElement(Z.a,{store:Q},o.a.createElement(_,null))}}]),t}(c.Component),Y=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function $(e){navigator.serviceWorker.register(e).then(function(e){e.onupdatefound=function(){var t=e.installing;t.onstatechange=function(){"installed"===t.state&&(navigator.serviceWorker.controller?console.log("New content is available; please refresh."):console.log("Content is cached for offline use."))}}}).catch(function(e){console.error("Error during service worker registration:",e)})}n(275);l.a.render(o.a.createElement(I,null),document.getElementById("root")),function(){if("serviceWorker"in navigator){if(new URL("/i-watch",window.location).origin!==window.location.origin)return;window.addEventListener("load",function(){var e="".concat("/i-watch","/service-worker.js");Y?(function(e){fetch(e).then(function(t){404===t.status||-1===t.headers.get("content-type").indexOf("javascript")?navigator.serviceWorker.ready.then(function(e){e.unregister().then(function(){window.location.reload()})}):$(e)}).catch(function(){console.log("No internet connection found. App is running in offline mode.")})}(e),navigator.serviceWorker.ready.then(function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://goo.gl/SC7cgQ")})):$(e)})}}()}},[[145,2,1]]]);
//# sourceMappingURL=main.73454b6c.chunk.js.map